<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    html{height:100%}
    body{height:100%;margin:0px;padding:0px}
    #app{width: 100%;height:100%;}
  </style>
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=1.0&&type=webgl&ak=dhcWG21WQKPW5nABj9vwlnQH6hRvOoNe"></script>
  <script type="text/javascript" src="https://api.map.baidu.com/library/TrackAnimation/src/TrackAnimation_min.js"></script>
</head>
<body>
  <div id="app"></div>
</body>
</html>
<script>
  var bmap = new BMapGL.Map("app");                          // 创建Map实例
    bmap.centerAndZoom(new BMapGL.Point(116.214611,40.142483), 17);    // 初始化地图，设置中心点坐标和地图级别
  bmap.enableScrollWheelZoom(true);


  var path = [{
    'lng': 116.215172,
    'lat': 40.142697
}, {
    'lng': 116.215572,
    'lat': 40.142276
}, {
    'lng':  116.215994,
    'lat': 40.142466
}, {
    'lng': 116.215657,
    'lat': 40.142856
}];

var point = [];
for (var i = 0; i < path.length; i++) {
    point.push(new BMapGL.Point(path[i].lng, path[i].lat));
}
var pl = new BMapGL.Polyline(point);

var trackAni = new BMapGLLib.TrackAnimation(bmap, pl, {
    overallView: true, // 动画完成后自动调整视野到总览
    tilt: 30,          // 轨迹播放的角度，默认为55
    duration: 20000,   // 动画持续时长，默认为10000，单位ms
    delay: 3000        // 动画开始的延迟，默认0，单位ms
});

trackAni.start();

</script>
